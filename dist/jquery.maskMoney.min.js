/*
 *  jquery-maskmoney - v3.0.2
 *  jQuery plugin to mask data entry in the input text in the form of money (currency)
 *  https://github.com/plentz/jquery-maskmoney
 *
 *  Made by Diego Plentz
 *  Under MIT License (https://raw.github.com/plentz/jquery-maskmoney/master/LICENSE)
 */
!function($){"use strict";function a(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}}function b(a){a=a.toLowerCase();var b=/(mac)/.exec(a)||/(linux)/.exec(a)||/(windows)/.exec(a)||[],c=/(android)/.exec(a)||/(iphone)/.exec(a)||[];return{platform:b[1]||"",mobile:c[1]||""}}if(!$.browser){$.browser={};var c=a(navigator.userAgent);c.browser&&($.browser[c.browser]=!0,$.browser.version=c.version),$.browser.chrome?$.browser.webkit=!0:$.browser.webkit&&($.browser.safari=!0)}if(!$.platform){$.platform={};var d=b(navigator.userAgent);d.platform&&($.platform[d.platform]=!0),d.mobile&&($.platform.mobile=!0,$.platform[d.mobile]=!0)}var e={destroy:function(){return $(this).unbind(".maskMoney"),$.browser.msie&&(this.onpaste=null),this},mask:function(a){return this.each(function(){var b,c=$(this);return"number"==typeof a&&(c.trigger("mask"),b=$(c.val().split(/\D/)).last()[0].length,a=a.toFixed(b),c.val(a)),c.trigger("mask")})},unmasked:function(){return this.map(function(){var a,b=$(this).val()||"0",c=-1!==b.indexOf("-");return $(b.split(/\D/).reverse()).each(function(b,c){return c?(a=c,!1):void 0}),b=b.replace(/\D/g,""),b=b.replace(new RegExp(a+"$"),"."+a),c&&(b="-"+b),parseFloat(b)})},init:function(a){return a=$.extend({prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",precision:2,allowZero:!1,allowNegative:!1},a),this.each(function(){function b(){var a,b,c,d,e,f=w.get(0),g=0,h=0;return"number"==typeof f.selectionStart&&"number"==typeof f.selectionEnd?(g=f.selectionStart,h=f.selectionEnd):(b=document.selection.createRange(),b&&b.parentElement()===f&&(d=f.value.length,a=f.value.replace(/\r\n/g,"\n"),c=f.createTextRange(),c.moveToBookmark(b.getBookmark()),e=f.createTextRange(),e.collapse(!1),c.compareEndPoints("StartToEnd",e)>-1?g=h=d:(g=-c.moveStart("character",-d),g+=a.slice(0,g).split("\n").length-1,c.compareEndPoints("EndToEnd",e)>-1?h=d:(h=-c.moveEnd("character",-d),h+=a.slice(0,h).split("\n").length-1)))),{start:g,end:h}}function c(){var a=!(w.val().length>=w.attr("maxlength")&&w.attr("maxlength")>=0),c=b(),d=c.start,e=c.end,f=c.start!==c.end&&w.val().substring(d,e).match(/\d/)?!0:!1,g="0"===w.val().substring(0,1);return a||f||g}function d(a){w.each(function(b,c){if(c.setSelectionRange)c.focus(),c.setSelectionRange(a,a);else if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveEnd("character",a),d.moveStart("character",a),d.select()}})}function e(b){var c="";return b.indexOf("-")>-1&&(b=b.replace("-",""),c="-"),c+a.prefix+b+a.suffix}function f(b){var c,d=b.indexOf("-")>-1&&a.allowNegative?"-":"",g=b.indexOf(a.decimal),h=(-1===g?b:b.slice(0,g)).replace(/\D/g,""),i=(-1===g?"":b.slice(g+1)).replace(/\D/g,"");if(h=h.replace(/^0+/g,""),""===h&&(h="0"),c=d+h,-1!==g&&a.precision>0){var j="";if(i.length>a.precision&&(j=parseFloat(i.substring(a.precision)),i=i.substring(0,a.precision)),c+=a.decimal+i,0===parseFloat(c,10)&&j>0)return f(j.toString())}return e(c)}function g(b){var c,d,f,g=b.indexOf("-")>-1&&a.allowNegative?"-":"",h=b.replace(/[^0-9]/g,""),i=h.slice(0,h.length-a.precision);return i=i.replace(/^0*/g,""),i=i.replace(/\B(?=(\d{3})+(?!\d))/g,a.thousands),""===i&&(i="0"),c=g+i,a.precision>0&&(d=h.slice(h.length-a.precision),f=new Array(a.precision+1-d.length).join(0),c+=a.decimal+f+d),e(c)}function h(a){var b,c=w.val().length;w.val(g(w.val())),b=w.val().length,a-=c-b,d(a)}function i(){var a=w.val();w.val(g(a))}function j(){var b=w.val();return a.allowNegative?""!==b&&"-"===b.charAt(0)?b.replace("-",""):"-"+b:b}function k(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function l(a){a=a||window.event;var d,e,f,g,i,l=a.which||a.charCode||a.keyCode;return void 0===l?!1:0===l?!0:48>l||l>57?45===l?(w.val(j()),!1):43===l?(w.val(w.val().replace("-","")),!1):13===l||9===l?!0:!$.browser.mozilla||37!==l&&39!==l||0!==a.charCode?(k(a),!0):!0:c()?(k(a),d=String.fromCharCode(l),e=b(),f=e.start,g=e.end,i=w.val(),w.val(i.substring(0,f)+d+i.substring(g,i.length)),h(f+1),!1):!1}function m(c){c=c||window.event;var d,e,f,g,i,j=c.which||c.charCode||c.keyCode;return void 0===j?!1:(d=b(),e=d.start,f=d.end,8===j||46===j||63272===j?(k(c),g=w.val(),e===f&&(8===j?""===a.suffix?e-=1:(i=g.split("").reverse().join("").search(/\d/),e=g.length-i-1,f=e+1):f+=1),w.val(g.substring(0,e)+g.substring(f,g.length)),h(e),!1):9===j?!0:!0)}function n(){var a=w.val(),b=f(a);a!==b&&w.val(b)}function o(){p(),setTimeout(function(){w.select()},50)}function p(){v=w.val(),i();var a,b=w.get(0);b.createTextRange&&(a=b.createTextRange(),a.collapse(!1),a.select())}function q(){setTimeout(function(){i()},0)}function r(){var b=parseFloat("0")/Math.pow(10,a.precision);return b.toFixed(a.precision).replace(new RegExp("\\.","g"),a.decimal)}function s(a){i(),t(a)}function t(b){if($.browser.msie&&l(b),""===w.val()||w.val()===e(r()))w.val(a.allowZero?a.affixesStay?e(r()):r():"");else if(!a.affixesStay){var c=w.val().replace(a.prefix,"").replace(a.suffix,"");w.val(c)}w.val()!==v&&w.change()}function u(){var a,b=w.get(0);b.setSelectionRange?(a=w.val().length,b.setSelectionRange(a,a)):w.val(w.val())}var v,w=$(this);a=$.extend(a,w.data()),w.unbind(".maskMoney"),$.browser.chrome&&$.platform.android?(w.bind("keyup.maskMoney",n),w.bind("blur.maskMoney",s),w.bind("focus.maskMoney",o)):(w.bind("keypress.maskMoney",l),w.bind("keydown.maskMoney",m),w.bind("blur.maskMoney",t),w.bind("focus.maskMoney",p),w.bind("click.maskMoney",u)),w.bind("cut.maskMoney",q),w.bind("paste.maskMoney",q),w.bind("mask.maskMoney",i)})}};$.fn.maskMoney=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void $.error("Method "+a+" does not exist on jQuery.maskMoney"):e.init.apply(this,arguments)}}(window.jQuery||window.Zepto);